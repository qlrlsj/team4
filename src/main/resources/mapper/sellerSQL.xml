<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="seller">

	<select id="selectSellerH" parameterType="m" resultType="pr" >
	select 
		hostel_code as productNo,
		hostel_name as productName,
		hostel_score as productScore
	from hostel
	where member_no = #{memberNo}
	</select>
	<select id="selectSellerT" parameterType="m" resultType="pr" >
	  	select             
			ticket_no as productNo,			
			ticket_title as productName,
			ticket_score as productScore
        from ticket
        where member_no=#{memberNo}
	</select>
	<select id="selectSellerP" parameterType="m" resultType="pr" >
		select
			package_no as productNo,
			package_title as productName,
			package_score as productScore,
			package_price as productPrice
		from package
		where member_id = #{memberId}
	</select>
	
	<insert id="cancelInsert" parameterType="int">
		insert into sellercancel values(cancel_seq.nextval, #{memberNo})
	</insert>
	<select id="cancelCheck" parameterType="int" resultType="can">
		select
			cancel_no as cancelNo,
			member_no as memberNo
		from sellercancel
		where member_no = #{memberNo}
	</select>
	<select id="selectCashInfoH" parameterType="m" resultType="spay" >
	select 
		pay_date as payDate,
		hostel_code as productNo,
		pay_no as payNo,
		hostel_name as productName,
		member_id as memberName,
		pay_price as payPrice,
		point_use as pointUse,
		pay_coupon as couponUse,
		point_add as pointAdd,
		pay_couponcode as payCoupon
	from hostel h
	where member_no = #{memberNo}
	</select>
	<select id="selectCashInfoT" parameterType="m" resultType="spay">
	select 
            pay_date as payDate,
			t.ticket_no as productNo,
			p.pay_no as payNo,
			t.ticket_title as productName,
			member_id as memberName,
			pay_price as payPrice,
			point_use as pointUse,
			pay_coupon as couponUse,
			point_add as pointAdd,
			pay_couponcode as payCoupon
	    from payment p
        join ticket_reserve tr on (p.pay_no = tr.pay_no)
        join ticket t on (tr. = c2.category_id)
        join local_category l1 on (t.local_id = l1.local_id)
        join local_category l2 on (l1.parent_local_id = l2.local_id)
        where ticket_no=#{ticketNo}
	</select>
</mapper>
